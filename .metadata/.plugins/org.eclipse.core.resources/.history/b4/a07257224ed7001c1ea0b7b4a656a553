package com.checkoutjourney;


import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.Random;

import org.testng.annotations.Test;

import io.restassured.path.json.JsonPath;
import io.restassured.response.Response;


public class Test01_Get {
	
	
	
	
  @Test
  public void getCheckOutJourney() {  
	  
	  Date START_DATE = new Date(System.currentTimeMillis() + 86400 * 1000 * 1);
	  Date END_DATE = new Date(System.currentTimeMillis() + 86400 * 1000 * 2);

	  SimpleDateFormat DATE_FORMAT = new SimpleDateFormat("yyyyMMdd");
	  String startdate = DATE_FORMAT.format(START_DATE);
	  String enddate = DATE_FORMAT.format(END_DATE);
      
      System.out.println(startdate);
      System.out.println(enddate);
	  
	  ArrayList<String> response=  Utils.InventoryService.getCheckOutJourney(startdate, enddate);
	  Random random = new Random();
	  int index = random.nextInt(response.size());
	  System.out.println("Random Date Selected :"+ response.get(index));
	  
	  for(String a:response){

          System.out.println("The Date Time value fetched is "+a);

      }
	  
	  Response arearesponse=  Utils.InventoryService.getAreas("20220519", "1930");
	  
	  JsonPath jsonPathEvaluator = arearesponse.jsonPath();
	  
	  List<String> areas = jsonPathEvaluator.getList("response.areas");
	  
	  int s = areas.size();
      for(int i = 0; i < s; i++) {
    	  List<String> groupings = areas.getString("areas["+i+"].groupings");
        
      }
	  
  }
}
